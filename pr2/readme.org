#+TITE: pr2
#+DESCRIPTION: poor richard's pet rat

This project contains 3 binaries: =agent=, =server=, and
=client=. =agent= is installed on your target's machine, =server= is
installed on your (c2) webserver, and =client= is installed on your
operating machine.

Messages are sent from the client to the server which schedules jobs
for agents and collects job results for review by the operator.

#+begin_src shell
  # server
  cargo run --bin server -- -d
  # operator
  cargo run --bin client
  # agent
  cargo run --bin agent
#+end_src

* hacking
- =proto= contains common types and traits
  - api
    - raw message types
  - crypto
    - crypto primitives
  - packet
    - packet format on the wire
- =agent= is the target-side runtime
- =server= is the c2 server
  - TCP/HTTP(S)/UDP/DNS hosting
  - internal postgres db
- =client= is the c2 user interface
  - operators should use this program to control the c2 server
* tasks
** TODO db queries
  - agents
  - jobs
** TODO stage0
- State "TODO"       from              [2022-08-09 Tue 17:18]
we are on untrusted device with unknown specs. goal is to gather
information and send to c2.
- no negotiable encryption/authentication until approved by c2 -
  preshared key
- no persistence
- pings hardcoded domains - should include decoys
- INFO
  - cpu - arch/cores/speed
  - ram
  - services running
  - drive mapping
  - users
  - privilege level
  - connected devices
  - installed drivers
  - version info
    
** DONE db init
- State "TODO"       from              [2022-08-09 Tue 17:15]
postgres SQL
use sqlx offline mode
